@target(default=True)
def build(dest_dir="/"):
    print("Bulding (dest_dir={0})".format(dest_dir))

@target(requires=build)
def test():
    print("Testing")

@target(requires=build, help="Install me!")
def install():
    print("Installing")

@target
def clean():
    print("Cleaning")

@target(name="run", requires=(clean, build, clean), help="Run with it")
def run_(trouble=False):
    print("Running (trouble={0})".format(trouble))

    if trouble:
        raise Exception("Trouble")

@target(help="Print messages to the console",
        args=[Argument("message", help="The message to print")])
def echo(message, count=1):
    print("Echoing (message={0}, count={1})".format(message, count))

    for i in range(count):
       print(message)
